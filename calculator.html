<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>碳足迹计算 - 25-10矿大能动</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/footprint-calculator.js"></script>
    <script src="js/main.js" defer></script>
    <script>
        // 确保在页面加载时不执行任何登录检查
        window.addEventListener('load', function() {
            console.log('页面加载完成，开始初始化计算器');
        });
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1>碳足迹计算器</h1>
            <div class="class-info">25-10矿大能动</div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">首页</a></li>
                <li><a href="calculator.html" class="active">碳足迹计算</a></li>
                <li><a href="records.html">个人记录</a></li>
                <li><a href="ranking.html">班级排名</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <h2>碳足迹对比计算</h2>
        <p>通过对比不同的活动选择，了解您的碳减排潜力</p>
        
        <!-- 计算类型选择 -->
        <div class="calculator-type-selector">
            <button id="transport-tab" class="tab-button active">交通方式</button>
            <button id="food-tab" class="tab-button">食品消费</button>
        </div>
        
        <!-- 交通方式计算 -->
        <div id="transport-section" class="calculator-section active">
            <div class="calculator-container">
                <!-- 选项1 -->
                <div class="calculator-card">
                    <h3>选项 1</h3>
                    <div class="form-group">
                        <label for="transport-type-1">交通方式</label>
                        <select id="transport-type-1" required>
                            <!-- JavaScript 动态填充 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="distance-1">距离 (公里)</label>
                        <input type="number" id="distance-1" min="0" step="0.1" value="10" required>
                    </div>
                </div>
                
                <!-- 选项2 -->
                <div class="calculator-card">
                    <h3>选项 2</h3>
                    <div class="form-group">
                        <label for="transport-type-2">交通方式</label>
                        <select id="transport-type-2" required>
                            <!-- JavaScript 动态填充 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="distance-2">距离 (公里)</label>
                        <input type="number" id="distance-2" min="0" step="0.1" value="10" required>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 食品消费计算 -->
        <div id="food-section" class="calculator-section">
            <div class="calculator-container">
                <!-- 选项1 -->
                <div class="calculator-card">
                    <h3>选项 1</h3>
                    <div class="form-group">
                        <label for="food-type-1">食品类型</label>
                        <select id="food-type-1" required>
                            <!-- JavaScript 动态填充 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="food-amount-1">消费量 (公斤)</label>
                        <input type="number" id="food-amount-1" min="0" step="0.1" value="1" required>
                    </div>
                </div>
                
                <!-- 选项2 -->
                <div class="calculator-card">
                    <h3>选项 2</h3>
                    <div class="form-group">
                        <label for="food-type-2">食品类型</label>
                        <select id="food-type-2" required>
                            <!-- JavaScript 动态填充 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="food-amount-2">消费量 (公斤)</label>
                        <input type="number" id="food-amount-2" min="0" step="0.1" value="1" required>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 计算按钮 -->
        <div class="calculator-actions">
            <button id="calculate-btn" class="primary-button">开始计算</button>
        </div>
        
        <!-- 结果展示区域 -->
        <div id="results-section" class=\"results-section\" style=\"display: none;\">
            <h3>计算结果</h3>
            
            <!-- 选项对比 -->
            <div class=\"comparison-results\">
                <div class=\"result-item\">
                    <h4 id=\"option1-name\">选项 1</h4>
                    <div class=\"emission-value\" id=\"option1-emission\">0 kg CO₂e</div>
                </div>
                <div class=\"result-item\">
                    <h4 id=\"option2-name\">选项 2</h4>
                    <div class=\"emission-value\" id=\"option2-emission\">0 kg CO₂e</div>
                </div>
            </div>
            
            <!-- 减排效果 -->
            <div class=\"savings-result\">
                <div class=\"savings-item\">
                    <span class=\"label\">碳减排量:</span>
                    <span class=\"value\" id=\"carbon-saved\">0 kg CO₂e</span>
                </div>
                <div class=\"savings-item\">
                    <span class=\"label\">相当于种植树木:</span>
                    <span class=\"value\" id=\"trees-saved\">0 棵</span>
                </div>
            </div>
            
            <!-- 牛肉碳足迹构成分析（仅在选择牛肉时显示） -->
            <div id=\"beef-breakdown\" class=\"beef-breakdown-section\" style=\"display: none;\">
                <h4>🐄 牛肉碳足迹构成分析</h4>
                <p class=\"breakdown-intro\">牛肉的碳足迹为每公斤约27kg CO₂e，是所有常见肉类中最高的。以下是其碳排放的主要来源：</p>
                <div class=\"breakdown-chart\">
                    <!-- JavaScript 动态填充柱状图 -->
                </div>
                <div class=\"breakdown-explanation\">
                    <h5>主要排放来源说明：</h5>
                    <ul>
                        <li><strong>肠道发酵 (40%)</strong>：牛在消化过程中会通过打嗝排放大量甲烷，甲烷的温室效应是二氧化碳的25倍</li>
                        <li><strong>饲料生产 (26%)</strong>：种植饲料需要大量土地、水资源和化肥，养一头牛需要消耗8-10公斤饲料</li>
                        <li><strong>粪便管理 (10%)</strong>：牛粪在储存和处理过程中会释放甲烷和氧化亚氮</li>
                        <li><strong>其他环节 (24%)</strong>：包括农场能源使用、加工、运输和零售等环节</li>
                    </ul>
                    <p class=\"reduction-suggestion\">💡 <strong>减排建议</strong>：减少牛肉消费，选择鸡肉（6 kg CO₂e/kg）或植物蛋白，每周少吃一次牛肉可减少约27kg碳排放。</p>
                </div>
            </div>
            
            <!-- 环保建议 -->
            <div class=\"reduction-tips\">
                <h4>环保建议</h4>
                <ul id=\"reduction-tips\">
                    <!-- JavaScript 动态填充 -->
                </ul>
            </div>
            
            <!-- 记录保存 -->
            <div class=\"save-record\">
                <div class=\"form-group\">
                    <label for=\"record-notes\">备注 (可选)</label>
                    <textarea id=\"record-notes\" rows=\"3\" placeholder=\"添加记录备注...\"></textarea>
                </div>
                <button id=\"save-btn\" class=\"secondary-button\" disabled>保存记录</button>
            </div>
        </div>
        
        <!-- 环保知识 -->
        <div class="environmental-info">
            <h3>📚 交通碳足迹知识</h3>
            <div style="margin-bottom: 20px;">
                <h4>🚶 零碳出行方式</h4>
                <p><strong>步行和骑自行车</strong>是完全零碳排放的绿色出行方式。5公里以内的短途出行，建议优先选择步行或骑行，不仅环保，还能锻炼身体。</p>
            </div>
            <div style="margin-bottom: 20px;">
                <h4>🚇 低碳公共交通</h4>
                <p><strong>地铁/轻轨</strong>（0.041 kg CO₂e/km）和<strong>高铁/动车</strong>（0.041 kg CO₂e/km）是效率最高、排放最低的机动化交通方式。<strong>公交车</strong>虽然排放略高（0.089 kg CO₂e/km），但通过共乘大幅降低人均排放，仍是环保的选择。</p>
            </div>
            <div style="margin-bottom: 20px;">
                <h4>🚗 私家车碳排放对比</h4>
                <ul>
                    <li><strong>小型汽车</strong>（1.0-1.6L）：0.122 kg CO₂e/km</li>
                    <li><strong>中型汽车</strong>（1.6-2.5L）：0.172 kg CO₂e/km</li>
                    <li><strong>大型汽车/SUV</strong>（2.5L+）：0.221 kg CO₂e/km</li>
                    <li><strong>出租车</strong>：0.159 kg CO₂e/km（因空驶率高达40%）</li>
                </ul>
                <p>💡 <strong>建议</strong>：如必须开车，选择小排量车型，尽量拼车出行可将人均排放降低50%-75%。</p>
            </div>
            <div style="margin-bottom: 20px;">
                <h4>✈️ 航空出行碳排放</h4>
                <p><strong>国内航班</strong>（0.255 kg CO₂e/km）和<strong>国际航班</strong>（0.195 kg CO₂e/km）的碳排放远高于其他交通方式。一次北京-上海往返航班（约2,400km）排放约612kg CO₂e，相当于一辆小型汽车行驶5,000公里。</p>
                <p>💡 <strong>减排建议</strong>：1,000公里以内优先选择高铁；长途航班考虑购买碳抵消；商务出行可用视频会议替代部分差旅。</p>
            </div>
        </div>
        
        <!-- 数据来源 -->
        <div class="data-sources">
            <h3>数据来源与可靠性</h3>
            <p>本计算器使用的碳排放数据主要来源于：</p>
            <ul>
                <li><strong>IPCC</strong> (政府间气候变化专门委员会) 第五次和第六次评估报告</li>
                <li><strong>英国DEFRA</strong> (环境、食品与农村事务部) 2023年温室气体转换因子</li>
                <li><strong>中国环境科学学会</strong>碳排放核算标准</li>
                <li><strong>世界资源研究所</strong> (WRI) 温室气体核算体系</li>
                <li><strong>联合国粮农组织</strong> (FAO) 食品碳足迹数据库</li>
            </ul>
            <p><strong>数据说明</strong>：碳排放系数会因地区、燃料类型、车辆新旧程度、载客率等因素存在差异。本计算器采用的是中国典型场景下的平均值，实际碳足迹可能上下浮动15-30%。</p>
            <p><strong>计算方法</strong>：碳排放量 = 活动数据（如行驶距离）× 排放因子。排放因子单位为kg CO₂e（二氧化碳当量），已包含CO₂、CH₄、N₂O等温室气体的综合影响。</p>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 碳足迹计算器 - 25-10矿大能动</p>
        </div>
    </footer>
</body>
</html>